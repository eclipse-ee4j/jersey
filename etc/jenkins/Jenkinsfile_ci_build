pipeline {
    agent none

    stages {
        stage('Jersey build') {
            parallel {
                stage('JDK 8 ') {
                    agent {
                        label 'centos-7'
                    }
                    tools {
                        jdk 'oracle-jdk8-latest'
                        maven 'apache-maven-3.6.3'
                    }
                    steps {
                        sh '''
                                bash ${WORKSPACE}/etc/jenkins/jenkins_build.sh
                            '''
                    }
                }
                stage('JDK 11 ') {
                    agent {
                        label 'centos-7'
                    }
                    tools {
                        jdk 'openjdk-jdk11-latest'
                        maven 'apache-maven-3.6.3'
                    }
                    steps {
                        sh '''
                                bash ${WORKSPACE}/etc/jenkins/jenkins_build.sh
                            '''
                    }
                }
                stage('JDK 16 ') {
                    agent {
                        label 'centos-7'
                    }
                    tools {
                        jdk 'openjdk-jdk16-latest'
                        maven 'apache-maven-3.6.3'
                    }
                    steps {
                        sh '''
                                bash ${WORKSPACE}/etc/jenkins/jenkins_build.sh
                            '''
                    }
                }
            }
        }
    }
}